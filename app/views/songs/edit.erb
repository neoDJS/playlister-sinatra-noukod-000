<h1>Edit a Song</h1>

<form action="/songs/<%=@song.slug%>" method="POST">
  <input id="hidden" type="hidden" name="_method" value="patch">
  <p>
    <label>Song Name: </label>
    <input type="text" name="song[name]" id="Name" value="<%=@song.name%>">
  </p>
  <p>
    <h3>Genres</h3>
    <p>
      <label>Choose an existing Genre:</label>
      <%@genres.each do |genre|%>
        <input type="checkbox" name="song[genre_ids][]" value="<%=genre.id%>" id="<%=genre.name%>" <%='checked' if (@song.genres.include?(genre))%>><%=genre.name%></input>
      <%end%>
    </p>
    <p>
      <label>and/or, create a new one:</label>
      <label>name:</label>
      <input  type="text" name="genre[name]" id="genre_name"></input>
    </p>
  </p>
  <p>
    <h3>Artists</h3>
    <p>
      <label>Choose an existing Artist:</label>
      <%@artists.each do |artist|%>
        <input type="radio" name="song[artist_id]" value="<%=artist.id%>" id="<%=artist.name%>" <%='checked' if (@song.artist == artist)%>><%=artist.name%></input>
      <%end%>
    </p>
    <p>
      <label>and/or, create a new one:</label>
      <label>name:</label>
      <input  type="text" name="artist[name]" id="Artist Name"></input>
    </p>
  </p>

  <input type="submit" value="Save">
</form>
